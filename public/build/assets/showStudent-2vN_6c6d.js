import{_ as x}from"./FrontendLayout-DrHqIwa6.js";import{p as b,h as S,o as n,f as l,a as p,w as v,u as m,F as k,d as i,Z as C,t as s,g as c,b as e,j as g,m as $,y as N}from"./app-Dk-Q8yL7.js";const D={key:0,class:"alert bg-green-200 mt-40 mx-5 py-2 rounded"},B={class:"mt-4 mx-4"},T={class:"flex justify-between"},j=e("h3",null,"Show Student",-1),A={key:0,class:"grid grid-cols-12 gap-4"},F={class:"col-span-6"},O={class:"mb-3"},V=e("label",null,"Student Name",-1),E={class:"mb-3"},L=e("label",null,"Batch",-1),W={class:"mb-3"},G=e("label",null,"Test Number",-1),Z={class:"mt-6"},q=e("h4",null,"Student Score",-1),z={class:"table-auto w-full border-collapse norder divide-gray-300"},H=e("th",null," No ",-1),I={key:0},J={key:0},K={key:0},M={key:0},P={key:0},Q={key:0},R={key:0},U=e("th",null," Option ",-1),X={class:"mb-3 text-center"},Y={class:"mb-3 text-center"},ee={class:"mb-3 text-center"},te={class:"mb-3 text-center"},se={class:"mb-3 text-center"},oe={class:"mb-3 text-center"},ne={class:"mb-3 text-center"},le={class:"mb-3 text-center"},ae=["onClick"],de={key:1},re=e("td",{colspan:"6"},"No scores available",-1),ue=[re],he={__name:"showStudent",props:{student:Object,score:Object},setup(f){const a=f,y=r=>{confirm("Are you sure you want to delete this score?")&&N.delete(route("student-scores.destroy",r),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{location.reload()},onError:()=>{alert("Failed to delete score.")}})},d=b("date"),u=b("asc"),w=S(()=>!a.student||!a.student.scores?[]:[...a.student.scores].sort((r,o)=>{let t=r[d.value],h=o[d.value];return d.value==="date"&&(t=new Date(t).getTime(),h=new Date(h).getTime()),u.value==="asc"?t-h:h-t})),_=r=>{d.value===r?u.value=u.value==="asc"?"desc":"asc":(d.value=r,u.value="asc")};return(r,o)=>(n(),l(k,null,[p(m(C),{title:"Show Student Data"},{default:v(()=>[i(" Show Student Data ")]),_:1}),p(x,null,{default:v(()=>[r.$page.props.flash.message?(n(),l("div",D,s(r.$page.props.flash.message),1)):c("",!0),e("div",B,[e("div",T,[j,p(m(g),{href:r.route("students.index"),class:"bg-red-500 text-white py-2 px-5 rounded mb-4 inline-block"},{default:v(()=>[i("Back")]),_:1},8,["href"]),p(m(g),{href:r.route("students.create-score",{student:a.student.id}),class:"bg-blue-500 text-white p-3 rounded mb-4"},{default:v(()=>[i("Add New Data")]),_:1},8,["href"])]),a.student?(n(),l("div",A,[e("div",F,[e("div",O,[V,e("p",null,s(a.student.name),1)]),e("div",E,[L,e("p",null,s(a.student.wave),1)]),e("div",W,[G,e("p",null,s(a.student.no_test),1)]),e("div",Z,[q,e("table",z,[e("thead",null,[e("tr",null,[H,e("th",{onClick:o[0]||(o[0]=t=>_("date")),class:"cursor-pointer"},[i(" Date "),d.value==="date"?(n(),l("span",I,s(u.value==="asc"?"↑":"↓"),1)):c("",!0)]),e("th",{onClick:o[1]||(o[1]=t=>_("welding_skill")),class:"cursor-pointer"},[i(" Welding Skill "),d.value==="welding_skill"?(n(),l("span",J,s(u.value==="asc"?"↑":"↓"),1)):c("",!0)]),e("th",{onClick:o[2]||(o[2]=t=>_("language")),class:"cursor-pointer"},[i(" Language "),d.value==="language"?(n(),l("span",K,s(u.value==="asc"?"↑":"↓"),1)):c("",!0)]),e("th",{onClick:o[3]||(o[3]=t=>_("attitude")),class:"cursor-pointer"},[i(" Attitude "),d.value==="attitude"?(n(),l("span",M,s(u.value==="asc"?"↑":"↓"),1)):c("",!0)]),e("th",{onClick:o[4]||(o[4]=t=>_("total_score")),class:"cursor-pointer"},[i(" Total Score "),d.value==="total_score"?(n(),l("span",P,s(u.value==="asc"?"↑":"↓"),1)):c("",!0)]),e("th",{onClick:o[5]||(o[5]=t=>_("grade")),class:"cursor-pointer"},[i(" Grade "),d.value==="grade"?(n(),l("span",Q,s(u.value==="asc"?"↑":"↓"),1)):c("",!0)]),e("th",{onClick:o[6]||(o[6]=t=>_("type_weld")),class:"cursor-pointer"},[i(" Type Welding "),d.value==="type_weld"?(n(),l("span",R,s(u.value==="asc"?"↑":"↓"),1)):c("",!0)]),U])]),e("tbody",null,[a.student.scores&&a.student.scores.length?(n(!0),l(k,{key:0},$(w.value,(t,h)=>(n(),l("tr",{key:t.id},[e("td",X,s(h+1),1),e("td",Y,s(t.date),1),e("td",ee,s(t.welding_skill),1),e("td",te,s(t.language),1),e("td",se,s(t.attitude),1),e("td",oe,s(t.total_score),1),e("td",ne,s(t.grade),1),e("td",le,s(t.type_weld),1),e("td",null,[p(m(g),{href:r.route("student-scores.edit",{student:a.student.id,student_score:t.id}),class:"px-4 oy-1 text-sm bg-green-400 text-dark me-2 rounded inline-block"},{default:v(()=>[i(" Edit ")]),_:2},1032,["href"]),e("button",{onClick:ie=>y(t.id,a.student.id),class:"px-4 oy-1 text-sm bg-red-500 text-dark me-2 rounded inline-block"}," Delete ",8,ae)])]))),128)):(n(),l("tr",de,ue))])])])])])):c("",!0)])]),_:1})],64))}};export{he as default};
