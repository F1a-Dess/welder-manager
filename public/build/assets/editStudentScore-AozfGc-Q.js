import{h as _,T as h,o as r,f as a,a as m,w as b,u as s,F as k,d as v,Z as x,b as t,t as c,e as O,i as n,k as i,g as p,l as N,j as C}from"./app-Dk-Q8yL7.js";import{_ as F}from"./FrontendLayout-DrHqIwa6.js";const T={class:"mt-4 mx-4"},P={class:"flex justify-between"},j={class:"grid grid-cols-12 gap-4"},D={class:"col-span-6"},G={class:"mb-3"},B=t("label",null,"Date",-1),W={key:0,class:"text-red-500"},E={class:"mb-3"},M=t("div",{class:"mb-1"},[t("label",null,"Welding Score : U/C || OV || PO || U/F/Vi || Root Visual")],-1),A=t("label",null,"Total Welding Skill Score",-1),$={class:"mb-3"},I=t("label",null,"Language Score",-1),L={key:0,class:"text-red-500"},R={class:"mb-3"},Z=t("label",null,"Attitude Score",-1),q={key:0,class:"text-red-500"},z={class:"mb-3"},H=t("label",null,"Total Score : ",-1),J={class:"mb-3"},K=t("label",null,"Grade",-1),Q=t("div",null,[t("label",null,"A: > 75; B: > 60; C: > 50; D: < 50 ")],-1),X={key:0,class:"text-red-500"},Y={class:"mb-3"},ee=t("label",null,"Type Welding",-1),te=t("option",{value:"",disabled:""},"Select Welding Type",-1),se=t("option",{value:"3G"},"3G",-1),oe=t("option",{value:"4G"},"4G",-1),le=[te,se,oe],de={key:0,class:"text-red-500"},ne={class:"mb-3"},ie=["disabled"],ue={key:0},re={key:1},pe={__name:"editStudentScore",props:{errors:Object,student:Object,score:Object},setup(y){const d=y,w=_(()=>{var u;return((u=d.student)==null?void 0:u.name)||"Unknown Student"}),e=h({student_id:d.student.id,date:d.score.date,language:d.score.language,attitude:d.score.attitude,total_score:d.score.total_score,grade:d.score.grade,type_weld:d.score.type_weld,welding_skill:d.score.welding_skill,UC:d.score.UC,OV:d.score.OV,PO:d.score.PO,UFVi:d.score.UFVi,root_visual:d.score.root_visual}),V=_(()=>{const u=Number(e.UC)||0,o=Number(e.OV)||0,l=Number(e.PO)||0,f=Number(e.UFVi)||0,S=Number(e.root_visual)||0;return u+o+l+f+S}),g=_(()=>{const u=Number(e.welding_skill)||0,o=Number(e.language)||0,l=Number(e.attitude)||0;return u+o+l}),U=()=>{if(e.total_score=g.value,!d.score||!d.score.id){console.error("student_score ID is missing");return}e.put(route("student-scores.update",{student_score:d.score.id,student_id:d.student.id}),{preserveScroll:!0,onSuccess:()=>{var u;(u=d.student)!=null&&u.id?window.location=route("students.show",d.student.id):window.location=route("student-scores.index")}})};return(u,o)=>(r(),a(k,null,[m(s(x),{title:"Edit Student Score"},{default:b(()=>[v(" Edit Student Score ")]),_:1}),m(F,null,{default:b(()=>[t("div",T,[t("div",P,[t("h3",null,"Update Student Score for "+c(w.value),1)]),t("form",{onSubmit:o[13]||(o[13]=O(l=>U(),["prevent"]))},[t("div",j,[t("div",D,[t("div",G,[B,n(t("input",{id:"date",type:"date","onUpdate:modelValue":o[0]||(o[0]=l=>s(e).date=l),class:"py-1 w-full"},null,512),[[i,s(e).date]]),s(e).errors.date?(r(),a("div",W,c(s(e).errors.date),1)):p("",!0)]),t("div",E,[M,n(t("input",{type:"number","onUpdate:modelValue":o[1]||(o[1]=l=>s(e).UC=l),class:"py-1 m-2 w-20"},null,512),[[i,s(e).UC]]),n(t("input",{type:"number","onUpdate:modelValue":o[2]||(o[2]=l=>s(e).OV=l),class:"py-1 m-2 w-20"},null,512),[[i,s(e).OV]]),n(t("input",{type:"number","onUpdate:modelValue":o[3]||(o[3]=l=>s(e).PO=l),class:"py-1 m-2 w-20"},null,512),[[i,s(e).PO]]),n(t("input",{type:"number","onUpdate:modelValue":o[4]||(o[4]=l=>s(e).UFVi=l),class:"py-1 m-2 w-20"},null,512),[[i,s(e).UFVi]]),n(t("input",{type:"number","onUpdate:modelValue":o[5]||(o[5]=l=>s(e).root_visual=l),class:"py-1 m-2 mb-3 w-20"},null,512),[[i,s(e).root_visual]]),A,n(t("input",{type:"hidden","onUpdate:modelValue":o[6]||(o[6]=l=>s(e).welding_skill=l)},null,512),[[i,s(e).welding_skill]]),t("div",null,c(V.value),1)]),t("div",$,[I,n(t("input",{id:"language",type:"number","onUpdate:modelValue":o[7]||(o[7]=l=>s(e).language=l),class:"py-1 w-full"},null,512),[[i,s(e).language]]),s(e).errors.language?(r(),a("div",L,c(s(e).errors.language),1)):p("",!0)]),t("div",R,[Z,n(t("input",{id:"attitude",type:"number","onUpdate:modelValue":o[8]||(o[8]=l=>s(e).attitude=l),class:"py-1 w-full"},null,512),[[i,s(e).attitude]]),s(e).errors.attitude?(r(),a("div",q,c(s(e).errors.attitude),1)):p("",!0)]),n(t("input",{type:"hidden","onUpdate:modelValue":o[9]||(o[9]=l=>s(e).total_score=l)},null,512),[[i,s(e).total_score]]),t("div",z,[H,t("div",null,c(g.value),1)]),t("div",J,[K,Q,n(t("input",{type:"text",maxlength:"1","onUpdate:modelValue":o[10]||(o[10]=l=>s(e).grade=l),class:"py-1 w-full"},null,512),[[i,s(e).grade]]),s(e).errors.attitude?(r(),a("div",X,c(s(e).errors.grade),1)):p("",!0)]),t("div",Y,[ee,n(t("select",{"onUpdate:modelValue":o[11]||(o[11]=l=>s(e).type_weld=l),class:"py-1 w full"},le,512),[[N,s(e).type_weld]]),s(e).errors.type_weld?(r(),a("div",de,c(s(e).errors.type_weld),1)):p("",!0)]),n(t("input",{type:"hidden","onUpdate:modelValue":o[12]||(o[12]=l=>s(e).student_id=l)},null,512),[[i,s(e).student_id]]),t("div",ne,[m(s(C),{href:u.route("students.show",d.student.id),class:"bg-red-600 text-white py-2 px-5 rounded mb-4 inline-block"},{default:b(()=>[v(" Cancel ")]),_:1},8,["href"]),t("button",{type:"submit",disabled:s(e).processing,class:"bg-blue-500 text-white py-2 px-5 rounded mb-4"},[s(e).processing?(r(),a("span",ue,"Saving...")):(r(),a("span",re,"Save"))],8,ie)])])])],32)])]),_:1})],64))}};export{pe as default};
